<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Physics Wallah - Login</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="login.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

</head>

<body>
    <!-- Background Video -->
    <video autoplay muted loop class="bg-video">
        <source src="videos/PW_LOGIN.mp4" type="video/mp4" />
        Your browser does not support HTML5 video.
    </video>

    <div class="overlay"></div>

    <!-- Login Form -->
    <div class="login-container">
        <h2>Physics Wallah Login</h2>
        <form onsubmit="return validate()">
            <input type="email" placeholder="Email ID" id="txtEmail" required />
            <small id="emailError" class="error-msg"></small>
            <div class="password-field" style="position: relative;">
                <input type="password" placeholder="Password" id="pwd" required />
                <i class="fa-solid fa-eye" id="togglePwd"
                    style="position: absolute; right: 10px; top: 50%; transform: translateY(-50%); cursor: pointer; color: #aaa;"></i>
            </div>
            <small id="pwdError" class="error-msg"></small>


            <div class="options-row">
                <label><input type="checkbox" /> Remember me</label>
                <a href="#">Forgot Password?</a>
            </div>

            <button type="submit"><a href="index.html">Login</a></button>

            <div class="divider">OR</div>

            <div class="social-btn">
                <img src="https://img.icons8.com/color/48/google-logo.png" alt="Google" />
                Sign in with Google
            </div>

            <div class="social-btn">
                <img src="https://img.icons8.com/ios-glyphs/30/github.png" alt="GitHub" style="filter: invert(1);" />
                Sign in with GitHub
            </div>
        </form>

        <div class="footer-text">Â© Physics Wallah Institute of Innovation</div>

        <div class="signup-link">
            Don't have an account?
            <a href="sign-up.html">Sign up</a>
        </div>

    </div>
</body>
<script>
    const email = document.getElementById("txtEmail");
    const pwd = document.getElementById("pwd");
    const emailError = document.getElementById("emailError");
    const pwdError = document.getElementById("pwdError");

    function validate() {
        let valid = true;

        // Reset previous errors
        emailError.textContent = "";
        pwdError.textContent = "";
        email.classList.remove("input-error");
        pwd.classList.remove("input-error");

        // Email validation
        const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!emailPattern.test(email.value)) {
            emailError.textContent = "Please enter a valid email address.";
            email.classList.add("input-error");
            valid = false;
        }

        // Password validation
        const password = pwd.value;
        const hasUppercase = /[A-Z]/.test(password);
        const hasNumber = /[0-9]/.test(password);
        const hasSpecialChar = /[!@#$%^&*(),.?":{}|<>]/.test(password);

        if (!hasUppercase || !hasNumber || !hasSpecialChar || password.length < 8) {
            pwdError.textContent =
                "Password must be at least 8 characters and include an uppercase letter, a number, and a special character.";
            pwd.classList.add("input-error");
            valid = false;
        }

        if (valid) {
            window.location.href = "index.html";
            return false; // prevent default form submission (optional)
        }
        return valid;
    }

    // Live password validation
    pwd.addEventListener("input", function () {
        const password = pwd.value;
        const hasUppercase = /[A-Z]/.test(password);
        const hasNumber = /[0-9]/.test(password);
        const hasSpecialChar = /[!@#$%^&*(),.?":{}|<>]/.test(password);

        if (hasUppercase && hasNumber && hasSpecialChar && password.length >= 8) {
            pwdError.textContent = "";
            pwd.classList.remove("input-error");
        }
    });


    const pwdField = document.getElementById("pwd");
    const togglePwd = document.getElementById("togglePwd");

    togglePwd.addEventListener("click", function () {
        const type = pwdField.getAttribute("type") === "password" ? "text" : "password";
        pwdField.setAttribute("type", type);

        // Toggle eye / eye-slash icon
        this.classList.toggle("fa-eye");
        this.classList.toggle("fa-eye-slash");
    });

</script>

</html>