<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>PW IOI - Task Manager</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="index.css">
    <link rel="stylesheet" href="task-manager.css">
    <style>
        /* Remove underline from social icons in the footer */
        .site-footer .social-icons a[aria-label="Facebook"],
        .site-footer .social-icons a[aria-label="Twitter"],
        .site-footer .social-icons a[aria-label="Instagram"],
        .site-footer .social-icons a[aria-label="LinkedIn"],
        .site-footer .social-icons a[aria-label="GitHub"] {
            text-decoration: none !important;
        }

        /* Make Add New Task button smaller */
        .add-task-btn {
            font-size: 0.95rem;
            padding: 6px 16px;
            border-radius: 4px;
        }

        .add-task-btn i {
            font-size: 0.95em;
        }
    </style>
</head>

<body>
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loader"></div>
    </div>

    <button class="mobile-menu-toggle" onclick="toggleMobileSidebar()" aria-label="Toggle Mobile Menu">
        <i class="fas fa-bars"></i>
    </button>

    <div class="sidebar-overlay" id="sidebarOverlay" onclick="closeMobileSidebar()"></div>

    <div class="top-right-controls">
        <div class="auth-buttons">
            <button class="login-btn" onclick="showLoginModal()">
                <i class="fas fa-sign-in-alt"></i> <span class="btn-text">Login</span>
            </button>
            <button class="signup-btn" onclick="showSignupModal()">
                <i class="fas fa-user-plus"></i> <span class="btn-text">Sign Up</span>
            </button>
        </div>
        <div class="profile-icon" onclick="goToProfile()" title="View Profile">
            <img src="images/Supra_image.jpg" alt="Profile" />
        </div>
    </div>

    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <div class="logo" id="sidebar-logo">PW IOI</div>
            <button class="toggle-btn" onclick="toggleSidebar()" aria-label="Toggle Sidebar">
                <i class="fas fa-bars"></i>
            </button>
        </div>
        <nav class="nav-section" role="navigation">
            <a href="index.html" class="nav-link" data-tooltip="Dashboard"><i class="fas fa-home"></i> <span>Dashboard</span></a>
            <a href="task-manager.html" class="nav-link active" data-tooltip="Task Manager"><i class="fas fa-tasks"></i> <span>Task Manager</span></a>
            <a href="attendance.html" class="nav-link" data-tooltip="Attendance"><i class="fas fa-calendar-check"></i> <span>Attendance</span></a>
            <a href="mentor-attendance.html" class="nav-link" data-tooltip="Mentor Attendance"><i class="fas fa-user-check"></i> <span>Mentor Attendance</span></a>
            <a href="#projects" class="nav-link" data-tooltip="Projects"><i class="fas fa-project-diagram"></i> <span>Projects</span></a>
            <a href="job-portal.html" class="nav-link" data-tooltip="Job Portal"><i class="fas fa-briefcase"></i> <span>Job Portal</span></a>
            <a href="#announcements" class="nav-link" data-tooltip="Announcements"><i class="fas fa-bullhorn"></i> <span>Announcements</span></a>
            <div class="pinned-label">Pinned</div>
            <a href="#portfolio" class="nav-link" data-tooltip="Portfolio"><i class="fas fa-user"></i> <span>Portfolio</span></a>
            <a href="#community" class="nav-link" data-tooltip="Community"><i class="fas fa-users"></i> <span>Community</span></a>
            <a href="#events" class="nav-link" data-tooltip="Events"><i class="fas fa-calendar"></i> <span>Events</span></a>
            <a href="#leave" class="nav-link" data-tooltip="Leave Form"><i class="fas fa-file-alt"></i> <span>Leave Form</span></a>
            <a href="#gallery" class="nav-link" data-tooltip="Gallery"><i class="fas fa-images"></i> <span>Gallery</span></a>
        </nav>
    </div>

    <main class="main-content" id="main">
        <div class="main-heading">
            <h1 class="welcome_tag">Task Manager</h1>
        </div>

        <div class="task-manager-container">
            <div class="task-controls">
                <div class="task-filters">
                    <button class="filter-btn active" data-filter="all">All Tasks</button>
                    <button class="filter-btn" data-filter="pending">Pending</button>
                    <button class="filter-btn" data-filter="in-progress">In Progress</button>
                    <button class="filter-btn" data-filter="completed">Completed</button>
                </div>
                <button class="add-task-btn" onclick="showAddTaskModal()">
                    <i class="fas fa-plus"></i> Add New Task
                </button>
            </div>

            <div class="task-stats">
                <div class="stat-card">
                    <div class="stat-icon"><i class="fas fa-list-check"></i></div>
                    <div class="stat-info">
                        <h3>Total Tasks</h3>
                        <p id="total-tasks">0</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon"><i class="fas fa-spinner"></i></div>
                    <div class="stat-info">
                        <h3>In Progress</h3>
                        <p id="in-progress-tasks">0</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon"><i class="fas fa-check-circle"></i></div>
                    <div class="stat-info">
                        <h3>Completed</h3>
                        <p id="completed-tasks">0</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon"><i class="fas fa-chart-line"></i></div>
                    <div class="stat-info">
                        <h3>Completion Rate</h3>
                        <p id="completion-rate">0%</p>
                    </div>
                </div>
            </div>

            <div class="tasks-container" id="tasksContainer">
                <!-- Tasks will be dynamically added here -->
                <div class="empty-state">
                    <i class="fas fa-tasks"></i>
                    <h3>No tasks yet</h3>
                    <p>Create your first task to get started</p>
                    <button class="add-task-btn" onclick="showAddTaskModal()">
                        <i class="fas fa-plus"></i> Add New Task
                    </button>
                </div>
            </div>
        </div>

        <!-- Add Task Modal -->
        <div class="modal" id="addTaskModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Add New Task</h2>
                    <button class="close-modal" onclick="closeAddTaskModal()">&times;</button>
                </div>
                <div class="modal-body">
                    <form id="addTaskForm">
                        <div class="form-group">
                            <label for="taskTitle">Task Title</label>
                            <input type="text" id="taskTitle" placeholder="Enter task title" required>
                        </div>
                        <div class="form-group">
                            <label for="taskDescription">Description</label>
                            <textarea id="taskDescription" placeholder="Enter task description" rows="3"></textarea>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="taskDueDate">Due Date</label>
                                <input type="date" id="taskDueDate">
                            </div>
                            <div class="form-group">
                                <label for="taskPriority">Priority</label>
                                <select id="taskPriority">
                                    <option value="low">Low</option>
                                    <option value="medium" selected>Medium</option>
                                    <option value="high">High</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="taskCategory">Category</label>
                            <select id="taskCategory">
                                <option value="assignment">Assignment</option>
                                <option value="project">Project</option>
                                <option value="exam">Exam Preparation</option>
                                <option value="reading">Reading</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="taskTags">Tags (comma separated)</label>
                            <input type="text" id="taskTags" placeholder="e.g. html, css, javascript">
                        </div>
                        <div class="form-actions">
                            <button type="button" class="cancel-btn" onclick="closeAddTaskModal()">Cancel</button>
                            <button type="submit" class="save-btn">Save Task</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!-- Edit Task Modal -->
        <div class="modal" id="editTaskModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Edit Task</h2>
                    <button class="close-modal" onclick="closeEditTaskModal()">&times;</button>
                </div>
                <div class="modal-body">
                    <form id="editTaskForm">
                        <input type="hidden" id="editTaskId">
                        <div class="form-group">
                            <label for="editTaskTitle">Task Title</label>
                            <input type="text" id="editTaskTitle" placeholder="Enter task title" required>
                        </div>
                        <div class="form-group">
                            <label for="editTaskDescription">Description</label>
                            <textarea id="editTaskDescription" placeholder="Enter task description" rows="3"></textarea>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="editTaskDueDate">Due Date</label>
                                <input type="date" id="editTaskDueDate">
                            </div>
                            <div class="form-group">
                                <label for="editTaskPriority">Priority</label>
                                <select id="editTaskPriority">
                                    <option value="low">Low</option>
                                    <option value="medium">Medium</option>
                                    <option value="high">High</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="editTaskCategory">Category</label>
                            <select id="editTaskCategory">
                                <option value="assignment">Assignment</option>
                                <option value="project">Project</option>
                                <option value="exam">Exam Preparation</option>
                                <option value="reading">Reading</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="editTaskTags">Tags (comma separated)</label>
                            <input type="text" id="editTaskTags" placeholder="e.g. html, css, javascript">
                        </div>
                        <div class="form-group">
                            <label for="editTaskStatus">Status</label>
                            <select id="editTaskStatus">
                                <option value="pending">Pending</option>
                                <option value="in-progress">In Progress</option>
                                <option value="completed">Completed</option>
                            </select>
                        </div>
                        <div class="form-actions">
                            <button type="button" class="delete-btn" onclick="confirmDeleteTask()">Delete</button>
                            <button type="button" class="cancel-btn" onclick="closeEditTaskModal()">Cancel</button>
                            <button type="submit" class="save-btn">Save Changes</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!-- Confirmation Modal -->
        <div class="modal" id="confirmationModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Confirm Action</h2>
                    <button class="close-modal" onclick="closeConfirmationModal()">&times;</button>
                </div>
                <div class="modal-body">
                    <p id="confirmationMessage">Are you sure you want to delete this task?</p>
                    <div class="form-actions">
                        <button type="button" class="cancel-btn" onclick="closeConfirmationModal()">Cancel</button>
                        <button type="button" class="delete-btn" id="confirmActionBtn">Delete</button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="site-footer">
        <div class="footer-content">
            <p>&copy; 2025 PW IOI. All rights reserved. | Empowering the next generation of developers.</p>

            <div class="social-icons">
                <a href="#" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                <a href="#" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
                <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                <a href="#" aria-label="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                <a href="#" aria-label="GitHub"><i class="fab fa-github"></i></a>
            </div>

            <form class="newsletter-form" onsubmit="handleNewsletterSubmit(event)">
                <input type="email" placeholder="Enter your email for updates" required aria-label="Email for newsletter" />
                <button type="submit"><i class="fas fa-paper-plane"></i> Subscribe</button>
            </form>

            <div class="footer-links">
                <a href="#privacy">Privacy Policy</a>
                <a href="#terms">Terms of Service</a>
                <a href="#contact">Contact Support</a>
                <a href="#about">About Us</a>
            </div>
        </div>
    </footer>

    <button onclick="scrollToTop()" class="back-to-top" aria-label="Back to top" title="Back to top">
        <i class="fas fa-chevron-up"></i>
    </button>

    <!-- Toaster Container -->
    <div class="toaster-container" id="toasterContainer"></div>
    
    <script src="index.js"></script>
    <script src="task-manager.js"></script>
</body>

</html>